### üî∑ **–ë–∏–Ω–∞—Ä–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è –ø–æ–∏—Å–∫–∞ (BST)**

**–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–∞ BST:**

```c
struct bst_node {
    int key;                         // –ó–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞
    struct bst_node *left;          // –õ–µ–≤—ã–π –ø–æ—Ç–æ–º–æ–∫
    struct bst_node *right;         // –ü—Ä–∞–≤—ã–π –ø–æ—Ç–æ–º–æ–∫
    struct bst_node *parent;        // –†–æ–¥–∏—Ç–µ–ª—å (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ)
};
```

**–û–±—â–∏–µ –ø–æ–ª—è:**

* `key` ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ/–ø–æ–∏—Å–∫–µ;
* `left` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ;
* `right` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ;
* `parent` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —É–∑–µ–ª (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤—Å—Ç–∞–≤–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è).

---

### üî¥ ‚ö´ **–ö—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è (Red-Black Trees)**

–ö—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è ‚Äî —ç—Ç–æ –æ—Å–æ–±—ã–π –≤–∏–¥ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö BST —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∏ –ø–æ–ª–µ–º —Ü–≤–µ—Ç–∞.

**–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–∞:**

```c
struct rb_node {
    unsigned long  __rb_parent_color;  // –†–æ–¥–∏—Ç–µ–ª—å + —Ü–≤–µ—Ç (–≤ –æ–¥–Ω–æ–º –ø–æ–ª–µ, bit-packing)
    struct rb_node *rb_right;          // –ü—Ä–∞–≤—ã–π –ø–æ—Ç–æ–º–æ–∫
    struct rb_node *rb_left;           // –õ–µ–≤—ã–π –ø–æ—Ç–æ–º–æ–∫
};
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**

```c
struct rb_root {
    struct rb_node *rb_node;           // –ö–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞
};
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

* –¶–≤–µ—Ç (–∫—Ä–∞—Å–Ω—ã–π –∏–ª–∏ —á–µ—Ä–Ω—ã–π) –∑–∞—à–∏–≤–∞–µ—Ç—Å—è –≤ –æ–¥–∏–Ω –±–∏—Ç –ø–æ–ª—è `__rb_parent_color` (–æ–±—ã—á–Ω–æ –º–ª–∞–¥—à–∏–π –±–∏—Ç).
* –í —è–¥—Ä–µ Linux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–º–∞–∫—Ä–æ—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø** –¥–ª—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ —Ü–≤–µ—Ç–∞ –∏ —Ä–æ–¥–∏—Ç–µ–ª—è.
* –ù–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è `key` ‚Äî –µ–≥–æ –¥–æ–±–∞–≤–ª—è—é—Ç –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –∫–æ—Ç–æ—Ä–∞—è **–≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç** `rb_node`.

**–ü—Ä–∏–º–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**

```c
struct my_data {
    int key;
    struct rb_node node; // –£–∑–µ–ª –¥–µ—Ä–µ–≤–∞
};
```

---

### üß© –û—Ç–ª–∏—á–∏—è –∏ —Å–≤—è–∑–∏:

| –ü–æ–ª–µ/–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å      | BST              | –ö—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ                    |
| --------------------- | ---------------- | --------------------------------------- |
| –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞          | –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è                          |
| –¶–≤–µ—Ç —É–∑–ª–æ–≤            | –ù–µ—Ç              | –ï—Å—Ç—å (–∫—Ä–∞—Å–Ω—ã–π/—á–µ—Ä–Ω—ã–π)                   |
| –ü–æ–ª–µ —Ä–æ–¥–∏—Ç–µ–ª—è         | –û—Ç–¥–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ   | –°–∫—Ä—ã—Ç–æ –≤–Ω—É—Ç—Ä–∏ `__rb_parent_color`       |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Linux | –†–µ–¥–∫–æ            | –û—á–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ                           |
| –ò—Ç–µ—Ä–∞—Ü–∏—è              | –†—É—á–Ω–∞—è           | –ß–µ—Ä–µ–∑ `rb_next()`, `rb_prev()`          |
| –í—Å—Ç–∞–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ      | –ü—Ä–æ—Å—Ç–∞—è          | –ß–µ—Ä–µ–∑ `rb_insert_color()`, `rb_erase()` |
